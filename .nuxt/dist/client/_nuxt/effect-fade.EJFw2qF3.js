import{n as x}from"./swiper-slide.CGMqFBiq.js";function S({swiper:t,extendParams:f,on:e}){f({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0};function u(s,o){const n=function(){let l,i,g;return(p,E)=>{for(i=-1,l=p.length;l-i>1;)g=l+i>>1,p[g]<=E?i=g:l=g;return l}}();this.x=s,this.y=o,this.lastIndex=s.length-1;let a,r;return this.interpolate=function(l){return l?(r=n(this.x,l),a=r-1,(l-this.x[a])*(this.y[r]-this.y[a])/(this.x[r]-this.x[a])+this.y[a]):0},this}function h(s){t.controller.spline||(t.controller.spline=t.params.loop?new u(t.slidesGrid,s.slidesGrid):new u(t.snapGrid,s.snapGrid))}function m(s,o){const n=t.controller.control;let a,r;const T=t.constructor;function l(i){const g=t.rtlTranslate?-t.translate:t.translate;t.params.controller.by==="slide"&&(h(i),r=-t.controller.spline.interpolate(-g)),(!r||t.params.controller.by==="container")&&(a=(i.maxTranslate()-i.minTranslate())/(t.maxTranslate()-t.minTranslate()),r=(g-t.minTranslate())*a+i.minTranslate()),t.params.controller.inverse&&(r=i.maxTranslate()-r),i.updateProgress(r),i.setTranslate(r,t),i.updateActiveIndex(),i.updateSlidesClasses()}if(Array.isArray(n))for(let i=0;i<n.length;i+=1)n[i]!==o&&n[i]instanceof T&&l(n[i]);else n instanceof T&&o!==n&&l(n)}function d(s,o){const n=t.constructor,a=t.controller.control;let r;function T(l){l.setTransition(s,t),s!==0&&(l.transitionStart(),l.params.autoHeight&&x(()=>{l.updateAutoHeight()}),l.$wrapperEl.transitionEnd(()=>{a&&(l.params.loop&&t.params.controller.by==="slide"&&l.loopFix(),l.transitionEnd())}))}if(Array.isArray(a))for(r=0;r<a.length;r+=1)a[r]!==o&&a[r]instanceof n&&T(a[r]);else a instanceof n&&o!==a&&T(a)}function c(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}e("beforeInit",()=>{t.controller.control=t.params.controller.control}),e("update",()=>{c()}),e("resize",()=>{c()}),e("observerUpdate",()=>{c()}),e("setTranslate",(s,o,n)=>{t.controller.control&&t.controller.setTranslate(o,n)}),e("setTransition",(s,o,n)=>{t.controller.control&&t.controller.setTransition(o,n)}),Object.assign(t.controller,{setTranslate:m,setTransition:d})}function v(t){const{effect:f,swiper:e,on:u,setTranslate:h,setTransition:m,overwriteParams:d,perspective:c,recreateShadows:s,getEffectParams:o}=t;u("beforeInit",()=>{if(e.params.effect!==f)return;e.classNames.push(`${e.params.containerModifierClass}${f}`),c&&c()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const a=d?d():{};Object.assign(e.params,a),Object.assign(e.originalParams,a)}),u("setTranslate",()=>{e.params.effect===f&&h()}),u("setTransition",(a,r)=>{e.params.effect===f&&m(r)}),u("transitionEnd",()=>{if(e.params.effect===f&&s){if(!o||!o().slideShadows)return;e.slides.each(a=>{e.$(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),s()}});let n;u("virtualUpdate",()=>{e.params.effect===f&&(e.slides.length||(n=!0),requestAnimationFrame(()=>{n&&e.slides&&e.slides.length&&(h(),n=!1)}))})}function b(t,f){return t.transformEl?f.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):f}function y({swiper:t,duration:f,transformEl:e,allSlides:u}){const{slides:h,activeIndex:m,$wrapperEl:d}=t;if(t.params.virtualTranslate&&f!==0){let c=!1,s;u?s=e?h.find(e):h:s=e?h.eq(m).find(e):h.eq(m),s.transitionEnd(()=>{if(c||!t||t.destroyed)return;c=!0,t.animating=!1;const o=["webkitTransitionEnd","transitionend"];for(let n=0;n<o.length;n+=1)d.trigger(o[n])})}}function I({swiper:t,extendParams:f,on:e}){f({fadeEffect:{crossFade:!1,transformEl:null}}),v({effect:"fade",swiper:t,on:e,setTranslate:()=>{const{slides:m}=t,d=t.params.fadeEffect;for(let c=0;c<m.length;c+=1){const s=t.slides.eq(c);let n=-s[0].swiperSlideOffset;t.params.virtualTranslate||(n-=t.translate);let a=0;t.isHorizontal()||(a=n,n=0);const r=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(s[0].progress),0):1+Math.min(Math.max(s[0].progress,-1),0);b(d,s).css({opacity:r}).transform(`translate3d(${n}px, ${a}px, 0px)`)}},setTransition:m=>{const{transformEl:d}=t.params.fadeEffect;(d?t.slides.find(d):t.slides).transition(m),y({swiper:t,duration:m,transformEl:d,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}export{S as C,I as E};
