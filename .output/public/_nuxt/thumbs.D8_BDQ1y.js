import{g as V,b as q,$ as I,i as E}from"./swiper-slide.CWl-pWU7.js";function j({swiper:e,extendParams:g,on:h,emit:y}){const c=V(),C=q();e.keyboard={enabled:!1},g({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}});function v(t){if(!e.enabled)return;const{rtlTranslate:a}=e;let s=t;s.originalEvent&&(s=s.originalEvent);const d=s.keyCode||s.charCode,o=e.params.keyboard.pageUpDown,r=o&&d===33,l=o&&d===34,i=d===37,m=d===39,u=d===38,f=d===40;if(!e.allowSlideNext&&(e.isHorizontal()&&m||e.isVertical()&&f||l)||!e.allowSlidePrev&&(e.isHorizontal()&&i||e.isVertical()&&u||r))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey)&&!(c.activeElement&&c.activeElement.nodeName&&(c.activeElement.nodeName.toLowerCase()==="input"||c.activeElement.nodeName.toLowerCase()==="textarea"))){if(e.params.keyboard.onlyInViewport&&(r||l||i||m||u||f)){let S=!1;if(e.$el.parents(`.${e.params.slideClass}`).length>0&&e.$el.parents(`.${e.params.slideActiveClass}`).length===0)return;const T=e.$el,P=T[0].clientWidth,$=T[0].clientHeight,D=C.innerWidth,O=C.innerHeight,b=e.$el.offset();a&&(b.left-=e.$el[0].scrollLeft);const A=[[b.left,b.top],[b.left+P,b.top],[b.left,b.top+$],[b.left+P,b.top+$]];for(let k=0;k<A.length;k+=1){const x=A[k];if(x[0]>=0&&x[0]<=D&&x[1]>=0&&x[1]<=O){if(x[0]===0&&x[1]===0)continue;S=!0}}if(!S)return}e.isHorizontal()?((r||l||i||m)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),((l||m)&&!a||(r||i)&&a)&&e.slideNext(),((r||i)&&!a||(l||m)&&a)&&e.slidePrev()):((r||l||u||f)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),(l||f)&&e.slideNext(),(r||u)&&e.slidePrev()),y("keyPress",d)}}function p(){e.keyboard.enabled||(I(c).on("keydown",v),e.keyboard.enabled=!0)}function n(){e.keyboard.enabled&&(I(c).off("keydown",v),e.keyboard.enabled=!1)}h("init",()=>{e.params.keyboard.enabled&&p()}),h("destroy",()=>{e.keyboard.enabled&&n()}),Object.assign(e.keyboard,{enable:p,disable:n})}function H({swiper:e,extendParams:g,on:h}){g({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let y=!1,c=!1;e.thumbs={swiper:null};function C(){const n=e.thumbs.swiper;if(!n||n.destroyed)return;const t=n.clickedIndex,a=n.clickedSlide;if(a&&I(a).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let s;if(n.params.loop?s=parseInt(I(n.clickedSlide).attr("data-swiper-slide-index"),10):s=t,e.params.loop){let d=e.activeIndex;e.slides.eq(d).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,d=e.activeIndex);const o=e.slides.eq(d).prevAll(`[data-swiper-slide-index="${s}"]`).eq(0).index(),r=e.slides.eq(d).nextAll(`[data-swiper-slide-index="${s}"]`).eq(0).index();typeof o>"u"?s=r:typeof r>"u"?s=o:r-d<d-o?s=r:s=o}e.slideTo(s)}function v(){const{thumbs:n}=e.params;if(y)return!1;y=!0;const t=e.constructor;if(n.swiper instanceof t)e.thumbs.swiper=n.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(E(n.swiper)){const a=Object.assign({},n.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(a),c=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",C),!0}function p(n){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const a=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let s=1;const d=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(s=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(s=1),s=Math.floor(s),t.slides.removeClass(d),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let l=0;l<s;l+=1)t.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+l}"]`).addClass(d);else for(let l=0;l<s;l+=1)t.slides.eq(e.realIndex+l).addClass(d);const o=e.params.thumbs.autoScrollOffset,r=o&&!t.params.loop;if(e.realIndex!==t.realIndex||r){let l=t.activeIndex,i,m;if(t.params.loop){t.slides.eq(l).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,l=t.activeIndex);const u=t.slides.eq(l).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),f=t.slides.eq(l).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof u>"u"?i=f:typeof f>"u"?i=u:f-l===l-u?i=t.params.slidesPerGroup>1?f:l:f-l<l-u?i=f:i=u,m=e.activeIndex>e.previousIndex?"next":"prev"}else i=e.realIndex,m=i>e.previousIndex?"next":"prev";r&&(i+=m==="next"?o:-1*o),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(i)<0&&(t.params.centeredSlides?i>l?i=i-Math.floor(a/2)+1:i=i+Math.floor(a/2)-1:i>l&&t.params.slidesPerGroup,t.slideTo(i,n?0:void 0))}}h("beforeInit",()=>{const{thumbs:n}=e.params;!n||!n.swiper||(v(),p(!0))}),h("slideChange update resize observerUpdate",()=>{p()}),h("setTransition",(n,t)=>{const a=e.thumbs.swiper;!a||a.destroyed||a.setTransition(t)}),h("beforeDestroy",()=>{const n=e.thumbs.swiper;!n||n.destroyed||c&&n.destroy()}),Object.assign(e.thumbs,{init:v,update:p})}export{j as K,H as T};
